import React, { useState, useEffect } from 'react';
import { useTranslation } from 'react-i18next';
import AppointmentForm from '../components/AppointmentForm';
import './ServicePage.css';

const CardiologyPage: React.FC = () => {
  const { t, i18n } = useTranslation();
  const [showAppointmentForm, setShowAppointmentForm] = useState(false);
  const [treatments, setTreatments] = useState<string[]>([]);

  useEffect(() => {
    // Hardcoded treatments based on language
    const treatmentsByLanguage = {
      tr: [
        "Koroner Anjiyografi",
        "Koroner Stent ƒ∞≈ülemleri",
        "Kalp Pili ƒ∞mplantasyonu",
        "Kardiyak Ablasyon",
        "Kalp Kapak Hastalƒ±klarƒ± Tedavisi",
        "Kalp Yetmezliƒüi Tedavisi",
        "Hipertansiyon Tedavisi",
        "Ritim Bozukluklarƒ± Tedavisi"
      ],
      en: [
        "Coronary Angiography",
        "Coronary Stent Procedures",
        "Pacemaker Implantation",
        "Cardiac Ablation",
        "Heart Valve Disease Treatment",
        "Heart Failure Treatment",
        "Hypertension Treatment",
        "Arrhythmia Treatment"
      ],
      ar: [
        "ŸÇÿ≥ÿ∑ÿ±ÿ© ÿßŸÑŸÇŸÑÿ® ÿßŸÑÿ™ÿßÿ¨Ÿäÿ©",
        "ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿØÿπÿßŸÖÿ© ÿßŸÑŸÇŸÑÿ® ÿßŸÑÿ™ÿßÿ¨Ÿäÿ©",
        "ÿ≤ÿ±ÿßÿπÿ© ÿ¨Ÿáÿßÿ≤ ÿ™ŸÜÿ∏ŸäŸÖ ÿ∂ÿ±ÿ®ÿßÿ™ ÿßŸÑŸÇŸÑÿ®",
        "ÿßŸÑÿßÿ≥ÿ™ÿ¶ÿµÿßŸÑ ÿßŸÑŸÇŸÑÿ®Ÿä",
        "ÿπŸÑÿßÿ¨ ÿ£ŸÖÿ±ÿßÿ∂ ÿµŸÖÿßŸÖÿßÿ™ ÿßŸÑŸÇŸÑÿ®",
        "ÿπŸÑÿßÿ¨ ŸÇÿµŸàÿ± ÿßŸÑŸÇŸÑÿ®",
        "ÿπŸÑÿßÿ¨ ÿßÿ±ÿ™ŸÅÿßÿπ ÿ∂ÿ∫ÿ∑ ÿßŸÑÿØŸÖ",
        "ÿπŸÑÿßÿ¨ ÿßÿ∂ÿ∑ÿ±ÿßÿ®ÿßÿ™ ÿßŸÑŸÜÿ∏ŸÖ"
      ],
      ru: [
        "–ö–æ—Ä–æ–Ω–∞—Ä–Ω–∞—è –ê–Ω–≥–∏–æ–≥—Ä–∞—Ñ–∏—è",
        "–ö–æ—Ä–æ–Ω–∞—Ä–Ω–æ–µ –°—Ç–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
        "–ò–º–ø–ª–∞–Ω—Ç–∞—Ü–∏—è –ö–∞—Ä–¥–∏–æ—Å—Ç–∏–º—É–ª—è—Ç–æ—Ä–∞",
        "–ö–∞—Ç–µ—Ç–µ—Ä–Ω–∞—è –ê–±–ª—è—Ü–∏—è",
        "–õ–µ—á–µ–Ω–∏–µ –ó–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –ö–ª–∞–ø–∞–Ω–æ–≤ –°–µ—Ä–¥—Ü–∞",
        "–õ–µ—á–µ–Ω–∏–µ –°–µ—Ä–¥–µ—á–Ω–æ–π –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏",
        "–õ–µ—á–µ–Ω–∏–µ –ì–∏–ø–µ—Ä—Ç–æ–Ω–∏–∏",
        "–õ–µ—á–µ–Ω–∏–µ –ê—Ä–∏—Ç–º–∏–∏"
      ],
      fr: [
        "Angiographie Coronarienne",
        "Proc√©dures de Stent Coronarien",
        "Implantation de Stimulateur Cardiaque",
        "Ablation Cardiaque",
        "Traitement des Maladies Valvulaires",
        "Traitement de l'Insuffisance Cardiaque",
        "Traitement de l'Hypertension",
        "Traitement des Arythmies"
      ],
      de: [
        "Koronare Angiographie",
        "Koronare Stent-Verfahren",
        "Schrittmacher-Implantation",
        "Kardiale Ablation",
        "Herzklappenerkrankungen-Behandlung",
        "Herzinsuffizienz-Behandlung",
        "Hypertonie-Behandlung",
        "Arrhythmie-Behandlung"
      ],
      es: [
        "Angiograf√≠a Coronaria",
        "Procedimientos de Stent Coronario",
        "Implantaci√≥n de Marcapasos",
        "Ablaci√≥n Card√≠aca",
        "Tratamiento de Enfermedades Valvulares",
        "Tratamiento de Insuficiencia Card√≠aca",
        "Tratamiento de Hipertensi√≥n",
        "Tratamiento de Arritmias"
      ]
    };

    setTreatments(treatmentsByLanguage[i18n.language as keyof typeof treatmentsByLanguage] || treatmentsByLanguage.en);
  }, [i18n.language]);

  const goBackToServices = () => {
    window.history.back();
  };

  const openAppointmentForm = () => {
    setShowAppointmentForm(true);
  };

  const closeAppointmentForm = () => {
    setShowAppointmentForm(false);
  };

  const handleAppointmentSubmit = (data: any) => {
    console.log('Appointment submitted:', data);
    closeAppointmentForm();
  };

  if (showAppointmentForm) {
    return (
      <AppointmentForm 
        onClose={closeAppointmentForm}
        onSubmit={handleAppointmentSubmit}
      />
    );
  }

  return (
    <div className="service-page">
      {/* Hero Section */}
      <section className="service-hero">
        <div className="hero-background">
          <div className="hero-overlay"></div>
        </div>
        <div className="container">
          <div className="hero-content">
            <div className="service-icon">{t('services.cardiology.icon')}</div>
            <h1 className="hero-title">{t('services.cardiology.title')}</h1>
            <p className="hero-subtitle">{t('services.cardiology.description')}</p>
            <div className="hero-stats">
              <div className="stat">
                <span className="stat-number">50+</span>
                <span className="stat-label">{t('servicePages.hero.stats.doctors')}</span>
              </div>
              <div className="stat">
                <span className="stat-number">1000+</span>
                <span className="stat-label">{t('servicePages.hero.stats.treatments')}</span>
              </div>
              <div className="stat">
                <span className="stat-number">98%</span>
                <span className="stat-label">{t('servicePages.hero.stats.successRate')}</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Hizmet Detaylarƒ± */}
      <section className="service-details">
        <div className="container">
          <div className="details-grid">
            <div className="details-content">
              <button onClick={goBackToServices} className="back-button">
                ‚Üê {t('servicePages.backToServices', 'Hizmetlere D√∂n')}
              </button>
              
              <h2>{t('servicePages.details.title')}</h2>
              <p>
                {t('servicePages.details.description')}
              </p>
              
              <h3>{t('servicePages.details.treatments')}</h3>
              <ul className="treatment-list">
                {treatments.map((treatment, index) => (
                  <li key={index}>{treatment}</li>
                ))}
              </ul>

              <h3>{t('servicePages.details.whyTurkey')}</h3>
              <div className="benefits-grid">
                <div className="benefit">
                  <div className="benefit-icon">üè•</div>
                  <h4>{t('servicePages.details.benefits.modernHospitals.title')}</h4>
                  <p>{t('servicePages.details.benefits.modernHospitals.description')}</p>
                </div>
                <div className="benefit">
                  <div className="benefit-icon">üë®‚Äç‚öïÔ∏è</div>
                  <h4>{t('servicePages.details.benefits.expertDoctors.title')}</h4>
                  <p>{t('servicePages.details.benefits.expertDoctors.description')}</p>
                </div>
                <div className="benefit">
                  <div className="benefit-icon">üí∞</div>
                  <h4>{t('servicePages.details.benefits.affordablePrices.title')}</h4>
                  <p>{t('servicePages.details.benefits.affordablePrices.description')}</p>
                </div>
                <div className="benefit">
                  <div className="benefit-icon">üåç</div>
                  <h4>{t('servicePages.details.benefits.easyAccess.title')}</h4>
                  <p>{t('servicePages.details.benefits.easyAccess.description')}</p>
                </div>
              </div>
            </div>
            
            <div className="details-sidebar">
              <div className="info-card">
                <h3>{t('servicePages.infoCard.title')}</h3>
                <div className="info-item">
                  <span className="info-label">{t('servicePages.infoCard.treatmentDuration')}:</span>
                  <span className="info-value">1-7 {t('timeUnits.days', 'g√ºn')}</span>
                </div>
                <div className="info-item">
                  <span className="info-label">{t('servicePages.infoCard.hospitalStay')}:</span>
                  <span className="info-value">1-3 {t('timeUnits.days', 'g√ºn')}</span>
                </div>
                <div className="info-item">
                  <span className="info-label">{t('servicePages.infoCard.recoveryTime')}:</span>
                  <span className="info-value">1-4 {t('timeUnits.weeks', 'hafta')}</span>
                </div>
                <button onClick={openAppointmentForm} className="btn btn-primary btn-large">
                  {t('servicePages.infoCard.bookAppointment', 'Randevu Al')}
                </button>
              </div>

              <div className="consultation-card">
                <h3>{t('servicePages.consultation.title', 'WhatsApp ile ƒ∞leti≈üim')}</h3>
                <p>{t('servicePages.consultation.description')}</p>
                <a 
                  href="https://wa.me/905516362773" 
                  target="_blank" 
                  rel="noopener noreferrer"
                  className="whatsapp-button"
                >
                  {t('servicePages.consultation.whatsapp', 'WhatsApp')}
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Uzman Doktorlarƒ±mƒ±z */}
      <section className="doctors-section">
        <div className="container">
          <h2>{t('servicePages.doctors.title', 'Uzman Doktorlarƒ±mƒ±z')}</h2>
          <div className="doctors-grid">
            <div className="doctor-card">
              <div className="doctor-avatar">üë®‚Äç‚öïÔ∏è</div>
              <h3>Dr. Ahmet Yƒ±lmaz</h3>
              <p className="doctor-specialty">{t('servicePages.doctors.specialties.cardiology', 'Kardiyoloji Uzmanƒ±')}</p>
              <p className="doctor-experience">15 {t('servicePages.doctors.year', 'yƒ±l')} deneyim</p>
              <button className="btn btn-outline">{t('servicePages.doctors.viewProfile', 'Profili G√∂r√ºnt√ºle')}</button>
            </div>
            <div className="doctor-card">
              <div className="doctor-avatar">üë©‚Äç‚öïÔ∏è</div>
              <h3>Dr. Fatma Demir</h3>
              <p className="doctor-specialty">{t('servicePages.doctors.specialties.interventionalCardiology', 'Giri≈üimsel Kardiyoloji')}</p>
              <p className="doctor-experience">12 {t('servicePages.doctors.year', 'yƒ±l')} deneyim</p>
              <button className="btn btn-outline">{t('servicePages.doctors.viewProfile', 'Profili G√∂r√ºnt√ºle')}</button>
            </div>
            <div className="doctor-card">
              <div className="doctor-avatar">üë®‚Äç‚öïÔ∏è</div>
              <h3>Dr. Mehmet Kaya</h3>
              <p className="doctor-specialty">{t('servicePages.doctors.specialties.arrhythmia', 'Ritim Bozukluklarƒ±')}</p>
              <p className="doctor-experience">18 {t('servicePages.doctors.year', 'yƒ±l')} deneyim</p>
              <button className="btn btn-outline">{t('servicePages.doctors.viewProfile', 'Profili G√∂r√ºnt√ºle')}</button>
            </div>
          </div>
        </div>
      </section>

      {/* Hasta Yorumlarƒ± */}
      <section className="testimonials-section">
        <div className="container">
          <h2>{t('servicePages.testimonials.title', 'Hasta Yorumlarƒ±')}</h2>
          <div className="testimonials-grid">
            <div className="testimonial-card">
              <div className="testimonial-content">
                <p>{t('servicePages.testimonials.cardiology.testimonial1.text', 'Koroner stent i≈ülemim √ßok ba≈üarƒ±lƒ± ge√ßti. Doktorum ve ekibi √ßok profesyoneldi. Tedavi sonrasƒ± takip de m√ºkemmeldi.')}</p>
              </div>
              <div className="testimonial-author">
                <strong>{t('servicePages.testimonials.cardiology.testimonial1.author', 'John Smith')}</strong>
                <span>{t('servicePages.testimonials.cardiology.testimonial1.location', 'ƒ∞ngiltere - Koroner Stent')}</span>
              </div>
            </div>
            <div className="testimonial-card">
              <div className="testimonial-content">
                <p>{t('servicePages.testimonials.cardiology.testimonial2.text', 'Kalp pili takƒ±lmasƒ± i√ßin T√ºrkiye\'yi se√ßtim. Hem tedavi hem de konaklama √ßok iyiydi. Kesinlikle tavsiye ederim.')}</p>
              </div>
              <div className="testimonial-author">
                <strong>{t('servicePages.testimonials.cardiology.testimonial2.author', 'Maria Garcia')}</strong>
                <span>{t('servicePages.testimonials.cardiology.testimonial2.location', 'ƒ∞spanya - Kalp Pili')}</span>
              </div>
            </div>
            <div className="testimonial-card">
              <div className="testimonial-content">
                <p>{t('servicePages.testimonials.cardiology.testimonial3.text', 'Ritim bozukluƒüu tedavim i√ßin geldim. Ablasyon i≈ülemi ba≈üarƒ±lƒ± oldu ve artƒ±k sorun ya≈üamƒ±yorum.')}</p>
              </div>
              <div className="testimonial-author">
                <strong>{t('servicePages.testimonials.cardiology.testimonial3.author', 'Ahmed Hassan')}</strong>
                <span>{t('servicePages.testimonials.cardiology.testimonial3.location', 'Mƒ±sƒ±r - Ablasyon')}</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  );
};

export default CardiologyPage; 